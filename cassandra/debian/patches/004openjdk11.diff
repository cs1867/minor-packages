#! /bin/sh /usr/share/dpatch/dpatch-run
## 004openjdk11.dpatch by  <vvidic@sabik.carnet.hr>
##
## All lines beginning with `## DP:' are a description of the patch.
## DP: No description.

@DPATCH@
diff -urNad '--exclude=CVS' '--exclude=.svn' '--exclude=.git' '--exclude=.arch' '--exclude=.hg' '--exclude=_darcs' '--exclude=.bzr' cassandra-2.1.21~/conf/cassandra-env.sh cassandra-2.1.21/conf/cassandra-env.sh
--- cassandra-2.1.21~/conf/cassandra-env.sh	2019-04-18 15:26:56.000000000 +0200
+++ cassandra-2.1.21/conf/cassandra-env.sh	2019-04-18 15:27:34.395399915 +0200
@@ -184,7 +184,7 @@
 JVM_OPTS="$JVM_OPTS -XX:+UseThreadPriorities"
 # allows lowering thread priority without being root.  see
 # http://tech.stolsvik.com/2010/01/linux-java-thread-priorities-workaround.html
-JVM_OPTS="$JVM_OPTS -XX:ThreadPriorityPolicy=42"
+#JVM_OPTS="$JVM_OPTS -XX:ThreadPriorityPolicy=42"
 
 # min and max heap sizes should be set to the same value to avoid
 # stop-the-world GC pauses during resize, and so that we can lock the
@@ -210,8 +210,8 @@
 JVM_OPTS="$JVM_OPTS -XX:StringTableSize=1000003"
 
 # GC tuning options
-JVM_OPTS="$JVM_OPTS -XX:+UseParNewGC" 
-JVM_OPTS="$JVM_OPTS -XX:+UseConcMarkSweepGC" 
+#JVM_OPTS="$JVM_OPTS -XX:+UseParNewGC" 
+#JVM_OPTS="$JVM_OPTS -XX:+UseConcMarkSweepGC" 
 JVM_OPTS="$JVM_OPTS -XX:+CMSParallelRemarkEnabled" 
 JVM_OPTS="$JVM_OPTS -XX:SurvivorRatio=8" 
 JVM_OPTS="$JVM_OPTS -XX:MaxTenuringThreshold=1"
